webpackJsonp([3],{"0uat":function(t,e){},"3Jzm":function(t,e,i){"use strict";var n=i("onEp"),a=i("Ub7J"),s=i("sY8N"),o=i("Eg/L"),r=i("higW"),l=Object.assign;t.exports=!l||i("LyA7")(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=o(t),l=arguments.length,c=1,d=a.f,u=s.f;l>c;)for(var f,v=r(arguments[c++]),h=d?n(v).concat(d(v)):n(v),p=h.length,_=0;p>_;)u.call(v,f=h[_++])&&(i[f]=v[f]);return i}:l},CHCr:function(t,e,i){i("yfii"),t.exports=i("yDNk").Object.assign},TIOA:function(t,e){},ZCI5:function(t,e,i){"use strict";var n=i("YP5q"),a=(n.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:n.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")},"on-show":function(e){t.$emit("on-show")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},staticRenderFns:[]};var o=i("Z0/y")(a,s,!1,function(t){i("0uat")},null,null);e.a=o.exports},aA9S:function(t,e,i){t.exports={default:i("CHCr"),__esModule:!0}},"jN+u":function(t,e){},tm9n:function(t,e){},ubfx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("aA9S"),a=i.n(n),s=i("ZCI5"),o=i("15Hy"),r=i("6Tc7"),l=i("ivQt"),c=i("/bMK"),d=(c.a,function(t,e){for(var i=[],n=t;n<e;n++)n<10?i.push({text:"0"+n,value:"0"+n}):i.push({text:n,value:n});return i}),u={name:"TimePicker",components:{Picker:c.a},data:function(){return{data:[d(0,24),d(0,60)],selectedIndex:[0,0],selectedText:["请选择时间"]}},methods:{showPicker:function(){this.$refs.picker.show()},handleSelect:function(t,e){this.selectedText.splice(t,1,e[2].join(":")),this.$emit("update",e[0])}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"timepicker"}},[i("div",[i("div",{staticClass:"select",on:{click:t.showPicker}},[t._v(t._s(t.selectedText[0]))]),t._v(" "),i("Picker",{ref:"picker",attrs:{data:t.data,"selected-index":t.selectedIndex,title:"起飞时间",cancelTxt:"取消",confirmTxt:"确定"},on:{select:function(e){t.handleSelect(0,arguments)}}})],1)])},staticRenderFns:[]};var v=i("Z0/y")(u,f,!1,function(t){i("jN+u")},"data-v-8ee3b3ba",null).exports,h=(r.a,l.a,{name:"OrderForm",components:{datePicker:r.a,allPicker:l.a,timePicker:v},props:{content:{}},data:function(){return{}},mounted:function(){},methods:{updateSingle:function(t,e){this.content[e].field.selected[0]=t[0],"recognizeeAppntRelation"===this.content[e].id&&"0"!==this.content[e].field.selected[0]?this.cut(!0):"recognizeeAppntRelation"===this.content[e].id&&"0"===this.content[e].field.selected[0]&&this.cut(!1),"relationToInsured"===this.content[e].id&&"00"!==this.content[e].field.selected[0]?this.cut(!0):"relationToInsured"===this.content[e].id&&"00"===this.content[e].field.selected[0]&&this.cut(!1)},updateLink:function(t,e){this.content[e].field.selected=t},updatedate:function(t,e){this.content[e].field.selected=t[0]},updateTime:function(t,e){var i;i=t[0]+":"+t[1],this.content[e].field.selected=i},cut:function(t){this.content.forEach(function(e,i,n){e.show||(e.temshow=t)}),this.content.push({}),this.content.pop()}}}),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"orderform"}},t._l(t.content,function(e,n){return e.temshow||e.show?i("div",{key:n,staticClass:"main"},["text"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"text",placeholder:"请输入",disabled:e.field.isReadOnly},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}})])]):t._e(),t._v(" "),"number"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"item.value"}],attrs:{type:"number",placeholder:"请输入"},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}})])]):t._e(),t._v(" "),"lpysimplepicker"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("allPicker",{attrs:{content:e.field.data,text:e.field.text,selected:e.field.selected[0],title:e.text},on:{update:function(e){t.updateSingle(e,n)}}})],1)]):t._e(),t._v(" "),"lpypicker"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("allPicker",{attrs:{url:e.field.file,title:e.text},on:{update:function(e){t.updateLink(e,n)}}})],1)]):t._e(),t._v(" "),"lpydatepicker"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("datePicker",{attrs:{text:e.field.text,selected:e.field.selected,maxDate:e.field.maxDate,minDate:e.field.minDate,title:e.text},on:{update:function(e){t.updatedate(e,n)}}})],1)]):t._e(),t._v(" "),"time"==e.field.type?i("div",{staticClass:"row"},[i("div",{staticClass:"left"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"right"},[i("timePicker",{on:{update:function(e){t.updateTime(e,n)}}})],1)]):t._e()]):t._e()}))},staticRenderFns:[]};var _=i("Z0/y")(h,p,!1,function(t){i("tm9n")},"data-v-a72fe2dc",null).exports,m=(s.a,o.a,{name:"Order",components:{orderForm:_,Alert:s.a,Loading:o.a},props:{id:{}},data:function(){return{content:[],bankfile:[],bankinfo:!1,lazy:!1,showLoading:!1,showAlert:!1,alertContent:""}},mounted:function(){this.getInfo()},methods:{getInfo:function(){var t=this;this.axios.get("/api2/getOrderForm",{params:{plan_id:this.id}}).then(function(e){t.content=e.data.keys,t.bankfile=e.data.bankfile,e.data.keys[3]||(t.bankinfo=!0),t.content.forEach(function(t,e,i){t.inputs.forEach(function(t,e,i){t.show||(t.temshow=!1,i.temshow=t.temshow)})})}).then(function(){t.lazy=!0})},sub:function(){var t=this;if(this.bankinfo){this.showLoading=!0;var e=a()(this.draw(0),this.draw(1),this.draw(2),this.draw(3));this.axios.post("/api2/genOrderSn",{id:this.id,info:JSON.parse(localStorage.tryInfo),params:e}).then(function(e){t.showLoading=!1,0!==e.data.code?(t.showAlert=!0,t.alertContent=e.data.msg):t.$router.push({name:"OrderConfirm",params:{orderSn:e.data.orderSn}})})}},draw:function(t){if(!(t>this.content.length-1)){var e={};return this.content[t].inputs.forEach(function(i,n,a){(1!==t||"0"!==a[0].field.selected[0]||i.show)&&(2!==t||"00"!==a[0].field.selected[0]||i.show)&&("lpypicker"===i.field.type||"lpydatepicker"===i.field.type||"lpysimplepicker"===i.field.type||"time"===i.field.type?e[i.id]=i.field.selected:e[i.id]=i.value)}),e}}}}),k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"title",rawName:"v-title",value:"填写信息",expression:"'填写信息'"}],attrs:{id:"order"}},[i("alert",{attrs:{title:"提示",content:t.alertContent},model:{value:t.showAlert,callback:function(e){t.showAlert=e},expression:"showAlert"}}),t._v(" "),i("loading",{attrs:{show:t.showLoading,text:"Loading"}}),t._v(" "),t.content[0]?i("div",{staticClass:"wrap"},[i("div",{staticClass:"title"},[t._v("投保人信息")]),t._v(" "),i("orderForm",{attrs:{content:t.content[0].inputs}})],1):t._e(),t._v(" "),t.content[1]?i("div",{staticClass:"wrap"},[i("div",{staticClass:"title"},[t._v("被保人信息")]),t._v(" "),i("orderForm",{attrs:{content:t.content[1].inputs}})],1):t._e(),t._v(" "),t.content[2]?i("div",{staticClass:"wrap"},[i("div",{staticClass:"title"},[t._v("收益人信息")]),t._v(" "),i("orderForm",{attrs:{content:t.content[2].inputs}})],1):t._e(),t._v(" "),t.content[3]?i("div",{staticClass:"wrap"},[i("div",{staticClass:"title"},[t._v("续期银行账户")]),t._v(" "),i("orderForm",{attrs:{content:t.content[3].inputs}}),t._v(" "),i("div",{staticClass:"bankinfo"},[t._m(0),t._v(" "),i("div",[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.bankinfo,expression:"bankinfo"}],attrs:{type:"checkbox",id:"tem"},domProps:{checked:Array.isArray(t.bankinfo)?t._i(t.bankinfo,null)>-1:t.bankinfo},on:{change:function(e){var i=t.bankinfo,n=e.target,a=!!n.checked;if(Array.isArray(i)){var s=t._i(i,null);n.checked?s<0&&(t.bankinfo=i.concat([null])):s>-1&&(t.bankinfo=i.slice(0,s).concat(i.slice(s+1)))}else t.bankinfo=a}}}),t._v(" "),i("label",{staticClass:"i-check",attrs:{for:"tem"}}),t._v("我已阅读并同意\n          "),t._l(t.bankfile,function(e,n){return i("a",{key:n,staticClass:"file-link",attrs:{href:e.src}},[t._v(t._s(e.name))])})],2)])])],1):t._e(),t._v(" "),t.lazy?i("div",{staticClass:"foot"},[i("div",{staticClass:"btn",class:{sure:t.bankinfo},on:{click:t.sub}},[t._v("下一步")])]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("请使用"),e("span",[this._v("投保人本人")]),this._v("的银行卡借记卡")])}]};var g=i("Z0/y")(m,k,!1,function(t){i("TIOA")},"data-v-a80fb8ac",null);e.default=g.exports},yfii:function(t,e,i){var n=i("34sJ");n(n.S+n.F,"Object",{assign:i("3Jzm")})}});