webpackJsonp([8],{"0uat":function(t,s){},P63k:function(t,s){},ZCI5:function(t,s,i){"use strict";var n=i("YP5q"),e=(n.a,Boolean,String,String,String,Boolean,String,String,Number,String,{name:"alert",components:{XDialog:n.a},created:function(){void 0!==this.value&&(this.showValue=this.value)},props:{value:Boolean,title:String,content:String,buttonText:String,hideOnBlur:{type:Boolean,default:!1},maskTransition:{type:String,default:"vux-mask"},dialogTransition:{type:String,default:"vux-dialog"},maskZIndex:[Number,String]},data:function(){return{showValue:!1}},methods:{_onHide:function(){this.showValue=!1}},watch:{value:function(t){this.showValue=t},showValue:function(t){this.$emit("input",t)}}}),a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"vux-alert"},[i("x-dialog",{attrs:{"mask-transition":t.maskTransition,"dialog-transition":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(s){t.$emit("on-hide")},"on-show":function(s){t.$emit("on-show")}},model:{value:t.showValue,callback:function(s){t.showValue=s},expression:"showValue"}},[i("div",{staticClass:"weui-dialog__hd"},[i("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]),t._v(" "),i("div",{staticClass:"weui-dialog__bd"},[t._t("default",[i("div",{domProps:{innerHTML:t._s(t.content)}})])],2),t._v(" "),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:t._onHide}},[t._v(t._s(t.buttonText||"确定"))])])])],1)},staticRenderFns:[]};var o=i("Z0/y")(e,a,!1,function(t){i("0uat")},null,null);s.a=o.exports},oSPd:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=i("2y58"),e=i("ZCI5"),a=i("P6uy"),o=i.n(a),r=(n.a,e.a,{name:"DecisionCase",components:{Confirm:n.a,Alert:e.a},props:{id:{}},data:function(){return{lazy:!1,confirmShow:!1,showAlert:!1,alertContent:"",rightShow:!1,content:[],issub:"",isself:"",roles:[],roleId:"",userName:"",showAll:[],wxName:""}},beforeRouteEnter:function(t,s,i){"DecisionList"!==s.name&&"DecisionStep"!==s.name||(t.meta.isBack=!1),i()},mounted:function(){var t=this;this.getInfo(),this.$nextTick(function(){t.getWX()})},activated:function(){var t=this;this.$route.meta.isBack||(this.getInfo(),this.$nextTick(function(){t.getWX()})),this.$route.meta.isBack=!0},methods:{getInfo:function(){var t=this;this.axios.get("/api2/Decision/getResultRoles",{params:{id:this.id}}).then(function(s){t.roles=s.data.roles,t.roleId=t.roles[0].roleid,t.isself=s.data.isself,t.issub=s.data.issub,t.userName=t.roles[0].typename}).then(function(){t.getPersonInfo()})},getPersonInfo:function(){var t=this;this.axios.get("/api2/Decision/getResult",{params:{id:this.id,roleid:this.roleId}}).then(function(s){t.content=s.data.content;var i=[];t.content.cases.forEach(function(){i.push({show:!1})}),t.showAll=i}).then(function(){t.lazy=!0})},show:function(t){this.showAll[t].show=!0},hide:function(t){this.showAll[t].show=!1},setRole:function(t,s){this.rightShow=!this.rightShow,this.roleId=this.roles[t].roleid,this.userName=this.roles[t].typename,this.getPersonInfo()},router:function(t,s){this.$router.push({name:"ProductDetail",params:{id:t,pvid:s}})},onConfirm:function(t){var s=this;""===t?(this.showAlert=!0,this.alertContent="方案名不能为空"):this.axios.post("/api2/Decision/subResult",{id:this.id,name:t}).then(function(t){"保存成功"===t.data.msg&&(s.showAlert=!0,s.alertContent="保存成功")})},getWX:function(){var t=this,s=window.location.href;this.axios.get("/api/getWxToken",{params:{url:s}}).then(function(s){sessionStorage.appId=s.data.appID,sessionStorage.timestamp=s.data.timestamp,sessionStorage.nonceStr=s.data.nonceStr,sessionStorage.signature=s.data.signature;var i=window.location.href.replace("#","~");t.axios.get("/api/getUser").then(function(s){t.startWX(s.data.content.name,i)})})},startWX:function(t,s){o.a.config({debug:!1,appId:sessionStorage.appId,timestamp:sessionStorage.timestamp,nonceStr:sessionStorage.nonceStr,signature:sessionStorage.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage"]}),o.a.ready(function(){o.a.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),o.a.onMenuShareTimeline({title:"为您定制 | 看看"+t+"在AI保定制的保障方案",link:s,imgUrl:"https://cdn.aibaodata.com/2017/12/14/logo.jpg"}),o.a.onMenuShareAppMessage({title:"为您定制 | 看看"+t+"在AI保定制的保障方案",desc:"智能顾问-爱宝给我定制的保险方案，既全面又不贵，我看靠谱。",link:s,imgUrl:"https://cdn.aibaodata.com/2017/12/14/logo.jpg"})}),o.a.error(function(t){console.log(t)})}}}),c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return t.lazy?i("div",{attrs:{id:"decisioncase"}},[t.content.is_expired?t._e():i("div",{staticClass:"overdue"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-warning"}})]),t._v(" "),i("p",{staticClass:"tip"},[t._v("按照（"+t._s(t.userName)+"）当前年龄，本保障方案已失效")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.rightShow,expression:"rightShow"}],staticClass:"divCenter",attrs:{align:"center"},on:{click:function(s){if(s.target!==s.currentTarget)return null;t.rightShow=!t.rightShow}}},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.rightShow,expression:"rightShow"}],staticClass:"rightNav"},[i("div",{staticClass:"rightNav-title"},[t._v("\n          其他家庭成员\n        ")]),t._v(" "),t._l(t.roles,function(s,n){return i("div",{key:n,staticClass:"rightNav-user"},[i("img",{attrs:{src:s.img,alt:""},on:{click:function(i){t.setRole(n,s.typename)}}}),t._v(t._s(s.typename)+"\n        ")])})],2)])],1),t._v(" "),i("div",{staticClass:"header"},[i("div",{staticClass:"top"},[i("div",{staticClass:"headerBtn"},[1!=t.issub&&t.isself?i("button",{on:{click:function(s){t.confirmShow=!0}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-save"}})]),t._v("\n          保存方案")]):t._e(),t._v(" "),1==t.issub&&t.isself?i("button",[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-saved"}})]),t._v("\n          已保存")]):t._e(),t._v(" "),i("button",{staticClass:"button2",on:{click:function(s){t.rightShow=!t.rightShow}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-change"}})]),t._v("\n          其他成员")])]),t._v(" "),i("img",{staticClass:"portrait",attrs:{src:t.content.headimg,alt:""}}),t._v(" "),i("div",{staticClass:"sumPrice"},[t._v("\n        最佳方案总价：￥"+t._s(t.content.price)+"\n      ")])]),t._v(" "),i("div",{staticClass:"userInfo"},[i("span",[t._v(t._s(t.userName))]),t._v(" "),t._l(t.content.labels,function(s,n){return i("div",{key:n},[t._v(t._s(s))])})],2)]),t._v(" "),i("confirm",{attrs:{"show-input":"","input-attrs":{type:"text"},title:"请输入方案名"},on:{"on-confirm":t.onConfirm},model:{value:t.confirmShow,callback:function(s){t.confirmShow=s},expression:"confirmShow"}}),t._v(" "),i("alert",{attrs:{title:"提示",content:t.alertContent},model:{value:t.showAlert,callback:function(s){t.showAlert=s},expression:"showAlert"}}),t._v(" "),t.content.recommendInfo?i("div",{staticClass:"recommend"},[i("p",{staticClass:"recommend-title"},[t._v("AI保智能投保顾问推荐方案")]),t._v(" "),i("div",{staticClass:"recommend-info"},[t._m(0),t._v(" "),t.content.recommendInfo[0].length>0?i("p",[i("span",[t._v(t._s(t.content.recommendInfo[0]))]),t._v("板块保障财务风险\n        "),t.content.recommendInfo[1].length<1?i("label",[t._v("。")]):i("label",[t._v("，")])]):t._e(),t._v(" "),t.content.recommendInfo[1].length>0?i("p",[i("span",[t._v(t._s(t.content.recommendInfo[1]))]),t._v("板块保障身体健康风险\n        "),t.content.recommendInfo[2].length<1?i("label",[t._v("。")]):i("label",[t._v("，")])]):t._e(),t._v(" "),t.content.recommendInfo[2].length>0?i("p",[t._v("补充\n        "),i("span",[t._v(t._s(t.content.recommendInfo[2]))]),t._v("板块保障旅游出行风险。")]):t._e()])]):t._e(),t._v(" "),i("div",{staticClass:"main"},t._l(t.content.cases,function(s,n){return s.list.length>0?i("div",{key:n,staticClass:"list",class:{pullUp:!t.showAll[n].show}},[i("div",{staticClass:"list-top",class:{list_top_faile:!t.content.is_expired}},[i("div",{staticClass:"case-name"},[t._v(t._s(s.name))]),t._v(" "),i("div",{staticClass:"tips"},[i("div",{staticClass:"tip-left"},[i("div",{staticStyle:{"font-size":"0.389rem"}},[i("div",{staticClass:"wrap-stars"},[i("div",{staticClass:"bgstars"}),t._v(" "),i("div",{staticClass:"stars",style:"width:"+s.star/.05+"%"})])]),t._v(" "),i("div",[t._v("投保优先级")])]),t._v(" "),i("div",{staticClass:"tip-right"},[i("div",{staticStyle:{"font-size":"0.389rem"}},[t._v(t._s(s.list[0].be))]),t._v(" "),i("div",[t._v("建议投保额")])])])]),t._v(" "),i("div",{staticClass:"list-content"},[i("div",{staticClass:"column"},[i("div",{staticClass:"column-title"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-fengxianpingce"}})]),t._v("\n            风险解读\n          ")]),t._v(" "),i("div",{staticClass:"column-text",class:{textPullDown:!t.showAll[n].show}},[t._v("\n            "+t._s(s.tips[0])+"\n          ")])]),t._v(" "),0==t.showAll[n].show?i("div",{staticClass:"pullDown",on:{click:function(s){t.show(n)}}},[i("span",[t._v("查看详情")]),t._v(" "),i("div",[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-moreDown"}})])])]):t._e(),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"column-title"},[i("svg",{staticClass:"icon",staticStyle:{"font-size":"0.5rem"},attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-jianyi"}})]),t._v("\n            投保建议\n          ")]),t._v(" "),i("div",{staticClass:"column-text"},[t._v("\n            "+t._s(s.tips[1])+"\n          ")])]),t._v(" "),t._l(s.list,function(s,n){return i("div",{key:n,staticClass:"content",on:{click:function(i){t.router(s.planid,s.pvid)}}},[i("div",{staticClass:"content-img"},[i("img",{staticClass:"product-img",attrs:{src:s.logo,alt:""}}),t._v(" "),0!=s.buy_status?i("div",{staticClass:"sale"}):t._e()]),t._v(" "),i("div",{staticClass:"product-info"},[i("div",{staticClass:"product-name"},[t._v("\n              "+t._s(s.caption)+"\n            ")]),t._v(" "),i("div",{class:{css:0==n}}),t._v(" "),i("div",{staticClass:"product-tips"},[t._v("\n              "+t._s(s.labels)+"\n            ")]),t._v(" "),i("div",{staticClass:"product-price"},[i("span",[t._v("￥")]),t._v(" "),i("span",[t._v(t._s(s.price))])])])])}),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"column-title"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-Prompt"}})]),t._v("\n            温馨提示\n          ")]),t._v(" "),i("div",{staticClass:"column-text"},[t._v("\n            "+t._s(s.tips[2])+"\n          ")])]),t._v(" "),i("div",{staticClass:"shrink",on:{click:function(s){t.hide(n)}}},[i("div",{staticClass:"iconUp"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-moreDown"}})])]),t._v(" "),i("span",[t._v("收起")])])],2)]):t._e()})),t._v(" "),t._m(1)],1):t._e()},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("综合考虑被评测人的个人基本信息、家庭财务状况，结合其生活习惯信息，建议配置以下板块的保险产品："),s("br")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"foot"},[s("p",[this._v("注：保险配置预算为AI保-爱宝建议的最佳保障方案预算，如果您已有一定额度的保障，需自行扣除，根据您的实际需求做出调整。")])])}]};var l=i("Z0/y")(r,c,!1,function(t){i("P63k")},"data-v-69329c40",null);s.default=l.exports}});