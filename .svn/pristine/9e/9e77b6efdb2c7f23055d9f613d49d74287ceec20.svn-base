webpackJsonp([4],{"/aeh":function(t,e){},"3WkI":function(t,e){},"XH/O":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("nCcz"),n=s("ldOZ"),a=s("Mqpf"),o={created:function(){this.uuid=Math.random().toString(36).substring(3,8)}},r=(Boolean,String,String,String,Array,Boolean,String,String,Boolean,{name:"search",mixins:[o],props:{required:{type:Boolean,default:!1},placeholder:String,cancelText:String,value:{type:String,default:""},results:{type:Array,default:function(){return[]}},autoFixed:{type:Boolean,default:!0},top:{type:String,default:"0px"},position:{type:String,default:"fixed"},autoScrollToTop:Boolean},created:function(){this.value&&(this.currentValue=this.value)},computed:{fixPosition:function(){return this.isFixed?"absolute"===this.position?"absolute":"fixed":"static"}},methods:{emitEvent:function(){var t=this;this.$nextTick(function(){t.$emit("input",t.currentValue),t.$emit("on-change",t.currentValue)})},onComposition:function(t,e){"start"===e&&(this.onInput=!0),"end"===e&&(this.onInput=!1,this.emitEvent()),"input"===e&&(this.onInput||this.emitEvent())},clear:function(){this.currentValue="",this.emitEvent(),this.isFocus=!0,this.setFocus(),this.autoFixed&&!this.isFixed&&(this.isFixed=!0),this.$emit("on-clear")},cancel:function(){this.isCancel=!0,this.currentValue="",this.emitEvent(),this.isFixed=!1,this.$emit("on-cancel")},handleResultClick:function(t){this.$emit("result-click",t),this.$emit("on-result-click",t),this.isCancel=!0,this.isFixed=!1},touch:function(){this.isCancel=!1,this.autoFixed&&(this.isFixed=!0),this.$emit("on-touch")},setFocus:function(){this.$refs.input.focus()},setBlur:function(){this.$refs.input.blur()},onFocus:function(){this.isFocus=!0,this.$emit("on-focus"),this.touch()},onBlur:function(){this.isFocus=!1,this.$emit("on-blur")}},data:function(){return{onInput:!1,currentValue:"",isCancel:!0,isFocus:!1,isFixed:!1}},watch:{isFixed:function(t){!0===t&&(this.setFocus(),this.isFocus=!0,this.autoScrollToTop&&setTimeout(function(){window.scrollTo(0,0)},150))},value:function(t){this.currentValue=t}}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-search-box",class:{"vux-search-fixed":t.isFixed},style:{top:t.isFixed?t.top:"",position:t.fixPosition}},[s("div",{staticClass:"weui-search-bar",class:{"weui-search-bar_focusing":!t.isCancel||t.currentValue}},[t._t("left"),t._v(" "),s("form",{staticClass:"weui-search-bar__form",attrs:{action:"."},on:{submit:function(e){e.preventDefault(),t.$emit("on-submit",t.value)}}},[s("label",{directives:[{name:"show",rawName:"v-show",value:!t.isFixed&&t.autoFixed,expression:"!isFixed && autoFixed"}],staticClass:"vux-search-mask",attrs:{for:"search_input_"+t.uuid},on:{click:t.touch}}),t._v(" "),s("div",{staticClass:"weui-search-bar__box"},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],ref:"input",staticClass:"weui-search-bar__input",attrs:{type:"search",autocomplete:"off",id:"search_input_"+t.uuid,placeholder:t.placeholder,required:t.required},domProps:{value:t.currentValue},on:{focus:t.onFocus,blur:t.onBlur,compositionstart:function(e){t.onComposition(e,"start")},compositionend:function(e){t.onComposition(e,"end")},input:[function(e){e.target.composing||(t.currentValue=e.target.value)},function(e){t.onComposition(e,"input")}]}}),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.currentValue,expression:"currentValue"}],staticClass:"weui-icon-clear",attrs:{href:"javascript:"},on:{click:t.clear}})]),t._v(" "),s("label",{directives:[{name:"show",rawName:"v-show",value:!t.isFocus&&!t.value,expression:"!isFocus && !value"}],staticClass:"weui-search-bar__label",attrs:{for:"search_input_"+t.uuid}},[s("i",{staticClass:"weui-icon-search"}),t._v(" "),s("span",[t._v(t._s(t.placeholder||"搜索"))])])]),t._v(" "),s("a",{staticClass:"weui-search-bar__cancel-btn",attrs:{href:"javascript:"},on:{click:t.cancel}},[t._v(t._s(t.cancelText||"取消")+"\n    ")]),t._v(" "),t._t("right")],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFixed,expression:"isFixed"}],staticClass:"weui-cells vux-search_show"},[t._t("default"),t._v(" "),t._l(t.results,function(e){return s("div",{staticClass:"weui-cell weui-cell_access",on:{click:function(s){t.handleResultClick(e)}}},[s("div",{staticClass:"weui-cell__bd weui-cell_primary"},[s("p",[t._v(t._s(e.title))])])])})],2)])},staticRenderFns:[]};var u=s("Z0/y")(r,c,!1,function(t){s("u5ED")},null,null).exports,l=s("P6uy"),h=s.n(l),d=(i.a,n.a,a.a,{name:"Treasury",components:{tips:i.a,Search:u,tabBar:n.a,BScroll:a.a},data:function(){return{content:[],links:[],isActive:"",searchValue:"",results:[],searchOver:!1,loading:!1,end:!1,noRes:!1}},mounted:function(){var t=this;this.getTreasury(),this.$nextTick(function(){t.menuScroll(),t.searchScroll(),t.getWX()})},methods:{getTreasury:function(){var t=this;this.axios.get("/api2/getSecurity").then(function(e){t.content=e.data.content,t.links=t.content[0].content,t.isActive=0})},searching:function(t){var e=this;if(""===t)return this.searchOver=!1,this.end=!1,void(this.noRes=!1);this.axios.post("/api2/getSearchList",{keywords:t}).then(function(t){e.searchOver=!0,e.results=t.data.content})},hide:function(){this.searchOver=!1,this.end=!1},changeLinks:function(t){this.links=this.content[t].content,this.isActive=t},toProduct:function(t){this.$router.push({name:"ProductDetail",params:{id:t}})},searchScroll:function(){var t=this;this.scroll=new a.a(this.$refs.loadmorescroll,{pullUpLoad:{threshold:-80}}),this.scroll.on("pullingUp",function(){t.end||(t.loading=!0,t.axios.post("/api2/getSearchList",{keywords:t.searchValue,nums:t.results.length}).then(function(e){e.data.content.length>0?setTimeout(function(){t.loading=!1,t.results=t.results.concat(e.data.content)},800):setTimeout(function(){t.loading=!1,t.end=!0},800)}).then(function(){t.scroll.finishPullUp(),t.scroll.refresh()}))})},menuScroll:function(){this.scroll2=new a.a(this.$refs.rightscroll,{})},link:function(t){this.$router.push({name:"TreasuryList",params:{type:t}})},getWX:function(){var t=this,e=window.location.href;this.axios.get("/api/getWxToken",{params:{url:e}}).then(function(e){sessionStorage.appId=e.data.appID,sessionStorage.timestamp=e.data.timestamp,sessionStorage.nonceStr=e.data.nonceStr,sessionStorage.signature=e.data.signature;var s=window.location.href.replace("#","~");t.startWX(s)})},startWX:function(t){h.a.config({debug:!1,appId:sessionStorage.appId,timestamp:sessionStorage.timestamp,nonceStr:sessionStorage.nonceStr,signature:sessionStorage.signature,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage"]}),h.a.ready(function(){h.a.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),h.a.onMenuShareTimeline({title:"AI保库 | 每个产品深度解析，覆盖全市场主流产品",link:t,imgUrl:"https://cdn.aibaodata.com/2017/12/14/logo.jpg"}),h.a.onMenuShareAppMessage({title:"AI保库 | 每个产品深度解析，覆盖全市场主流产品",desc:"保险产品数据库，每个产品深度解析，覆盖全市场主流产品，让您任意查询。",link:t,imgUrl:"https://cdn.aibaodata.com/2017/12/14/logo.jpg"})}),h.a.error(function(t){console.log(t)})}}}),v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"treasury"}},[s("tips"),t._v(" "),s("search",{attrs:{results:t.results,"auto-fixed":!1},on:{"on-change":t.searching,"on-cancel":t.hide},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchOver,expression:"searchOver"}],staticClass:"loadmore-warp"},[s("div",{ref:"loadmorescroll",staticClass:"loadmore"},[s("div",{staticClass:"warp"},[t._l(t.results,function(e,i){return s("div",{key:i,staticClass:"list",on:{click:function(s){t.toProduct(e.id)}}},[s("span",[t._v(t._s(e.name))])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.end,expression:"end"}],staticClass:"end"},[t._v("没有更多产品啦")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.results.length,expression:"results.length == 0"}],staticClass:"noRes"},[t._v("没有搜索结果")])],2)])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"left"},t._l(t.content,function(e,i){return s("div",{key:i,staticClass:"caption",class:{active:i==t.isActive},on:{click:function(e){t.changeLinks(i)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),t._v(" "),s("div",{ref:"rightscroll",staticClass:"right"},[s("div",{staticClass:"warp"},t._l(t.links,function(e,i){return s("div",{key:i,staticClass:"link",on:{click:function(s){t.link(e.id)}}},[t._v("\n          "+t._s(e.name)+"\n          "),s("span",{staticClass:"nums"},[t._v(t._s(e.nums))])])}))])]),t._v(" "),s("tabBar")],1)},staticRenderFns:[]};var p=s("Z0/y")(d,v,!1,function(t){s("/aeh")},"data-v-76258c10",null);e.default=p.exports},nCcz:function(t,e,s){"use strict";var i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tips"}},[t.show?s("div",{staticClass:"warp"},[s("div",{staticClass:"left"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-Prompt"}})]),t._v(" "),s("div",{staticClass:"main"},[t._v("\n        "+t._s(t.content)+"\n      ")])]),t._v(" "),s("div",{staticClass:"right",on:{click:t.hide}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-close"}})])])]):t._e()])},staticRenderFns:[]};var n=s("Z0/y")({name:"Tips",data:function(){return{show:!0,content:""}},mounted:function(){"Treasury"===this.$route.name&&(this.content="每个产品深度解析，覆盖全市场主流产品。"),"Contrast"===this.$route.name&&(this.content="什么是CP值(Cost Performance性价比分值)？")},methods:{hide:function(){this.show=!1}}},i,!1,function(t){s("3WkI")},"data-v-cff9e08e",null);e.a=n.exports},u5ED:function(t,e){}});